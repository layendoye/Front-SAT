<div class="row grosseDiv">
    <div class="col-sm-6 ">
        <form [formGroup]="affectationForm" (ngSubmit)="onSubmit()" class="depot depotForm">
            <div class="form-group">
                <label for="utilisateur">Collaborateur</label>
                <div class="input-group col-sm-12">
                    <span class="input-group-addon"><em class="fas fa-sort-numeric-up"></em></span>
                    <select formControlName="utilisateur" id="utilisateur" class="form-control" (change)="getUserChoisi($event.target.value)">
                      <option *ngFor="let user of users" value="{{user.id}}">{{user.nom}}</option>
                    </select>
                </div>
            </div>
            <div class="form-group">
                <label for="compte">Compte</label>
                <div class="input-group col-sm-12">
                    <span class="input-group-addon"><em class="fas fa-file-invoice-dollar"></em></span>
                    <select formControlName="compte" id="compte" class="form-control">
                       <option *ngFor="let compte of comptes" value="{{compte.id}}">{{compte.numeroCompte}}</option>
                    </select>
                </div>
            </div>
            <div class="row send">
                <button type="submit" class="btn btn-primary col-sm-4 boutonSend col-sm-offset-4" [disabled]="affectationForm.invalid">Affecter</button>
            </div>
        </form>
        <div class="box box-success" *ngIf="afficherTableau">

            <div class="row">
                <div class="col-sm-5 col-sm-offset-6">
                    <mat-form-field>
                        <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Recherche">
                    </mat-form-field>
                </div>
            </div>


            <div class="mat-elevation-z8">
                <table mat-table [dataSource]="dataSource" matSort>
                    <!-- ninea Column -->
                    <ng-container matColumnDef="dateAffectation">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Date </th>
                        <td mat-cell *matCellDef="let row"> {{row.dateAffectation | date:'dd-MM-yyyy'}} </td>
                    </ng-container>

                    <!-- adresse Column -->
                    <ng-container matColumnDef="numeroCompte">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Numéro de compte </th>
                        <td mat-cell *matCellDef="let row"> {{row.compte.numeroCompte}} </td>
                    </ng-container>

                    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                    <tr mat-row *matRowDef="let row; columns: displayedColumns;">
                    </tr>

                </table>

                <mat-paginator [pageSizeOptions]="[2, 5, 25, 100]"></mat-paginator>
            </div>
        </div>
        <!-- /.box -->
    </div>
    <div class="col-sm-6 partForm box-primary" *ngIf="afficherFormUser">
        <p class="text-center textInfo">Information générale de l'utilisateur</p>
        <form [formGroup]="userForm" (ngSubmit)="onSubmit()" class="">
            <div class="row">
                <div class="form-group">
                    <label for="nom">Nom</label>
                    <div class="input-group col-12">
                        <span class="input-group-addon"><i class="fas fa-user-plus"></i></span>
                        <input type="text" id="nom" class="form-control" formControlName="nom" placeholder="Nom" readonly>
                    </div>
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <div class="input-group col-12">
                        <span class="input-group-addon"><i class="fa fa-envelope"></i></span>
                        <input type="text" id="email" class="form-control" formControlName="email" placeholder="Email" readonly>
                    </div>
                </div>
                <div class="form-group">
                    <label for="telephone">Téléphone</label>
                    <div class="input-group col-12">
                        <span class="input-group-addon"><i class="fas fa-phone-square"></i></span>
                        <input type="text" id="telephone" class="form-control" formControlName="telephone" placeholder="Téléphone" readonly>
                    </div>
                </div>
                <div class="form-group">
                    <label for="nci">Numéro carte d'identité</label>
                    <div class="input-group col-12">
                        <span class="input-group-addon"><i class="fas fa-address-card"></i></span>
                        <input type="text" id="nci" class="form-control" formControlName="nci" placeholder="Numéro carte d'identité" readonly>
                    </div>
                </div>
                <div class="form-group">
                    <label for="poste">Poste</label>
                    <div class="input-group col-12">
                        <span class="input-group-addon"><i class="fas fa-male"></i></span>
                        <input type="text" id="poste" class="form-control" formControlName="poste" placeholder="Poste" readonly>
                    </div>
                </div>
                <div class="form-group">
                    <label for="compteActu">Compte actuel</label>
                    <div class="input-group col-12">
                        <span class="input-group-addon"><i class="fas fa-file-invoice-dollar"></i></span>
                        <input type="text" id="compteActu" class="form-control" formControlName="compteActu" placeholder="Compte actuel" readonly>
                    </div>
                </div>
            </div>
        </form>
    </div>
</div>